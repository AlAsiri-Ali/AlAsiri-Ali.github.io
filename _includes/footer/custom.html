<!-- start custom footer snippets -->

<!-- Load dual theme CSS -->
<link rel="stylesheet" href="{{ '/assets/css/dual-theme.css' | relative_url }}">

<!-- Simple theme toggle in footer -->
<style>
.footer-theme-toggle {
  display: inline-block;
  margin: 15px 0;
  text-align: center;
  width: 100%;
}

.footer-theme-btn {
  background: #007acc;
  color: white;
  border: none;
  border-radius: 25px;
  padding: 10px 20px;
  font-size: 16px;
  cursor: pointer;
  transition: all 0.3s ease;
  margin: 0 auto;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
}

.footer-theme-btn:hover {
  background: #005a9e;
  transform: scale(1.05);
}

body.theme-dark .footer-theme-btn {
  background: #00adb5;
}

body.theme-dark .footer-theme-btn:hover {
  background: #4db6ac;
}

@media (max-width: 768px) {
  .footer-theme-btn {
    padding: 12px 24px;
    font-size: 18px;
    gap: 10px;
  }
}
</style>

<div class="footer-theme-toggle">
  <button class="footer-theme-btn" id="footer-theme-btn" title="Toggle Theme">
    <span id="theme-icon">üåô</span>
    <span>Toggle Theme</span>
  </button>
</div>

<script>
function toggleTheme() {
  const body = document.body;
  const root = document.documentElement; // <html>
  const icon = document.getElementById('theme-icon');
  
  if (body.classList.contains('theme-dark')) {
    body.classList.remove('theme-dark');
    // reflect in [data-theme]
    root.setAttribute('data-theme', 'light');
    icon.innerHTML = 'üåô';
    localStorage.setItem('website-theme', 'light');
  } else {
    body.classList.add('theme-dark');
    // reflect in [data-theme]
    root.setAttribute('data-theme', 'dark');
    icon.innerHTML = '‚òÄÔ∏è';
    localStorage.setItem('website-theme', 'dark');
  }
}

// Load saved theme
(function() {
  const savedTheme = localStorage.getItem('website-theme');
  if (savedTheme === 'dark') {
    document.body.classList.add('theme-dark');
    document.documentElement.setAttribute('data-theme', 'dark');
  } else if (savedTheme === 'light') {
    document.documentElement.setAttribute('data-theme', 'light');
  }
})();

// Update button when ready
function updateThemeButton() {
  const savedTheme = localStorage.getItem('website-theme');
  const button = document.getElementById('footer-theme-btn');
  const icon = document.getElementById('theme-icon');
  
  if (button && icon) {
    icon.innerHTML = savedTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
    button.addEventListener('click', toggleTheme);
  }
}

if (document.readyState === 'loading') {
  document.addEventListener('DOMContentLoaded', updateThemeButton);
} else {
  updateThemeButton();
}
</script>

<!-- end custom footer snippets -->
